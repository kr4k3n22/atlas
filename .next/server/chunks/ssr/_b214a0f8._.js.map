{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../src/app/chat/page.tsx","../../../../src/components/app/user-menu.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","\"use client\";\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { createClient } from \"@/lib/supabaseClient\";\nimport { UserMenu } from \"@/components/app/user-menu\";\n\nexport default function ChatPage() {\n  const supabase = React.useMemo(() => createClient(), []);\n  const [session, setSession] = React.useState<any>(null);\n\n  React.useEffect(() => {\n    supabase.auth.getSession().then(({ data }) => {\n      const user = data.session?.user;\n      if (!user) return setSession(null);\n\n      setSession({\n        id: user.id,\n        email: user.email,\n        displayName: user.user_metadata?.displayName ?? user.email,\n        role: user.user_metadata?.role ?? \"user\",\n      });\n    });\n  }, [supabase]);\n\n  async function signOut() {\n    await supabase.auth.signOut();\n    window.location.href = \"/login\";\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <header className=\"sticky top-0 z-10 border-b bg-background/80 backdrop-blur\">\n        <div className=\"mx-auto max-w-3xl px-6 py-3 flex items-center justify-between\">\n          <Link href=\"/chat\" className=\"font-semibold tracking-tight\">\n            ATLAS\n          </Link>\n\n          <UserMenu session={session} onSignOut={signOut} />\n        </div>\n      </header>\n\n      <main className=\"mx-auto max-w-3xl p-6 space-y-4\">\n        <p className=\"text-sm text-muted-foreground\">\n          Next step: wire ChatGPT API here. Send requests to ATLAS. Route high-impact actions to HITL inbox.\n        </p>\n      </main>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\ntype Session = {\n  session: null | {\n    id: string;\n    email: string;\n    displayName: string;\n    role: \"user\" | \"approver\";\n  };\n};\n\nexport function UserMenu({ session, onSignOut }: { session: Session | null; onSignOut: () => Promise<void> }) {\n  const u = session?.session;\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" className=\"h-9 px-3\">\n          {u?.displayName || u?.email || \"User\"}\n        </Button>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"end\" className=\"w-56\">\n        <DropdownMenuLabel className=\"truncate\">\n          {u?.email || \"Not signed in\"}\n        </DropdownMenuLabel>\n\n        <DropdownMenuSeparator />\n\n        <DropdownMenuItem asChild>\n          <Link href=\"/chat\">Home</Link>\n        </DropdownMenuItem>\n\n        <DropdownMenuItem asChild>\n          <Link href=\"/\">Landing page</Link>\n        </DropdownMenuItem>\n\n        <DropdownMenuSeparator />\n\n        <DropdownMenuItem\n          onSelect={(e) => {\n            e.preventDefault();\n            void onSignOut();\n          }}\n        >\n          Sign out\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient","ReactDOM"],"mappings":"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","ignoreList":[0,1,2]}